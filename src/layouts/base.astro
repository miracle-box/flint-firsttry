---
import Footer from '~/components/layout/footer.astro';
import Navbar from '~/components/layout/navbar.astro';
import { loadLocale, i18nObject, getLocaleFromUrl } from '~/utils/i18n';
import '~/styles/base.css';

const { url } = Astro;
const locale = getLocaleFromUrl(url.pathname);
await loadLocale(locale);
const t = i18nObject(locale);
---

<!DOCTYPE html>
<!--
	Value of scroll-pt = (height of navbar (64px) + top margin of headings (24px))
	It prevents elements overlapping with navbar after clicking anchors.
	NOTE: change this value after changing any of these two values.
-->
<html lang={locale} class="scroll-pt-[88px]">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{t.site.title()}</title>
	</head>
	<body class="flex min-h-screen flex-col">
		<header class="sticky top-0 z-10 w-full border-b border-gray-200 bg-white">
			<Navbar />
		</header>

		<slot />

		<Footer />
	</body>
</html>
