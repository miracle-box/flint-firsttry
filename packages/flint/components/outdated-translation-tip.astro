---
import Callout from '../content-components/callout.astro';
import { useTranslation } from '../utils/dicts';
import { changePathLocale, getLocaleFromUrl } from '../utils/i18n-path';
import { localeLabel, replacePrarms } from '../utils/translations';

type Props = {
	originalLocale: string;
	sourceLink: string;
};

const { originalLocale, sourceLink } = Astro.props;
const { pathname } = Astro.url;

const locale = getLocaleFromUrl(Astro.url.pathname);
const t = useTranslation(locale);
---

<Callout type="warning" title={false}>
	{t.docs.outdatedTranslationTip[0]}
	<a href={changePathLocale(pathname, originalLocale)}>
		{replacePrarms(t.docs.outdatedTranslationTip[1], localeLabel(originalLocale))}
	</a>
	{t.docs.outdatedTranslationTip[2]}
	<a href={sourceLink}>{t.docs.outdatedTranslationTip[3]}</a>
</Callout>
